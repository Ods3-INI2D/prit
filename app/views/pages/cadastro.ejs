<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/estilo.css">
    <link rel="stylesheet" href="/css/cad.css">
    <script src="/js/validacao.js" defer></script>
</head>
<body>
    <%
    var cssErro = {nome: "", nasc: "", cpf: "", tel: "", email: "", senhan: "", csenha: ""} 
    var msgErro = {nome: "", nasc: "", cpf: "", tel: "", email: "", senhan: "", csenha: ""}
    if(erros) { 
        listaErros.errors.forEach(function(itemErro){
            if (itemErro.path == "nome"){ 
                cssErro.nome = "erro";
                msgErro.nome = itemErro.msg;
            } 
            if (itemErro.path == "nasc"){ 
                cssErro.nasc = "erro";
                msgErro.nasc = itemErro.msg;         
            } 
            if (itemErro.path == "cpf"){
                cssErro.cpf = "erro";
                msgErro.cpf = itemErro.msg;         
            }
            if (itemErro.path == "tel"){
                cssErro.tel = "erro";
                msgErro.tel = itemErro.msg;         
            }
            if (itemErro.path == "email"){ 
                cssErro.email = "erro";
                msgErro.email = itemErro.msg;
            }
            if (itemErro.path == "senhan"){
                cssErro.senhan = "erro";
                msgErro.senhan = itemErro.msg;         
            }
            if (itemErro.path == "csenha"){
                cssErro.csenha = "erro";
                msgErro.csenha = itemErro.msg;         
            }
        }); 
    }; %>
    
    <header>
        <img class="icon" src="/imagens/logo.png" alt="Logo">
    </header>
    
    <main>
        <section class="txt">
            <h1 class="tit">Cadastro</h1>

            <form class="formulario" method="POST" action="/cadastro">
                <fieldset>
                    <label for="nome">
                        <h2>Nome</h2>
                    </label>
                    <input type="text" placeholder="Seu nome" name="nome" id="nome" value="<%= valores.nome %>" class="<%= cssErro.nome %>">
                    <% if(msgErro.nome) { %>
                        <output class="erro"><%= msgErro.nome %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="nasc">
                        <h2>Data de Nascimento</h2>
                    </label>
                    <input type="date" name="nasc" id="nasc" value="<%= valores.nasc %>" class="<%= cssErro.nasc %>">
                    <% if(msgErro.nasc) { %>
                        <output class="erro"><%= msgErro.nasc %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="cpf">
                        <h2>CPF</h2>
                    </label>
                    <input type="number" placeholder="Seu CPF" name="cpf" id="cpf" value="<%= valores.cpf %>" class="<%= cssErro.cpf %>">
                    <% if(msgErro.cpf) { %>
                        <output class="erro"><%= msgErro.cpf %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="tel">
                        <h2>Telefone</h2>
                    </label>
                    <input type="number" placeholder="Seu Telefone" name="tel" id="tel" value="<%= valores.tel %>" class="<%= cssErro.tel %>">
                    <% if(msgErro.tel) { %>
                        <output class="erro"><%= msgErro.tel %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="email">
                        <h2>E-mail</h2>
                    </label>
                    <input type="text" placeholder="exemplo@dominio.com" name="email" id="email" value="<%= valores.email %>" class="<%= cssErro.email %>">
                    <% if(msgErro.email) { %>
                        <output class="erro"><%= msgErro.email %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="senhan">
                        <h2>Senha</h2>
                    </label>
                    <input type="password" placeholder="Sua Senha" name="senhan" id="senhan" value="<%= valores.senhan %>" class="<%= cssErro.senhan %>">
                    <% if(msgErro.senhan) { %>
                        <output class="erro"><%= msgErro.senhan %></output>
                    <% } %>
                </fieldset>

                <fieldset>
                    <label for="senha">
                        <h2>Confirmar Senha</h2>
                    </label>
                    <input type="password" placeholder="Confirme sua Senha" name="senha" id="senha" value="<%= valores.csenha %>" class="<%= cssErro.csenha %>">
                    <% if(msgErro.csenha) { %>
                        <output class="erro"><%= msgErro.csenha %></output>
                    <% } %>
                </fieldset>

                <button id="btn" type="submit">Cadastro</button>

                <nav class="link-group">
                    <p>
                        <a href="/login" class="link">JÃ¡ tem uma conta?
                            <strong class="link2">Entre aqui</strong>
                        </a>
                    </p>
                </nav>
            </form>
        </section>
    </main>

    <footer>
        <nav>
            <a href="/home">home</a>
        </nav>
    </footer>
</body>
</html>